<?php/*Exempel på en sida som skickar fel-rapporter till valfri person via emailoch om det inte går att skicka email så skrivs felen till en logg-fil.Rent praktiskt så kan det bli väldigt många email om ni gör såhär, det är alltsåbättre om man bara skriver till en logg-fil och kontrollerar den ibland men härvisas på båda möjligheterna med att göra så här.Tyvärr är inte radangivelsen den bästa och stämmer inte alltid med var felet egentligen uppstår.*/$PageTitle = "Felhantering";$MailTo = "datorid@stud.mah.se"; //Webbmasterns mailadress skriv i din egen för att testa...$Subject = "Det är fel på PHP-sida X på webbplats X";$Mailfrom = "Your non functional script";function writelogfileormail($type, $message, $file, $line){  global $PageTitle;  global $MailTo;  global $Subject;  $Body="Felet uppstod i fil: $file och antagligen i rad: $line";  global $Mailfrom;  //För att simulera att mailen inte fungerar sätt in ett ! före mail på raden ovan denna (rad 18).   //Fyll också i din emailadress istället för mindatorid@stud.mah.se  if(mail("$MailTo", "$Subject", "$Body", "From: felrapporteraren")){    echo("<h1>Det blev ett fel!</h1>");    print("<B><FONT COLOR=BLUE>Ett mail har skickats iväg till webbmaster</FONT></B><BR>\n");  }  else {    print("<B><CENTER><FONT COLOR=RED>Ett email till webbmaster kunde inte skickas p.g.a ett systemfel.</FONT></CENTER></B>\n"); 	$err_msg = "\r"."\n"."Det var ej möjligt att skicka ett email till: $MailTo den: " . date("Y-m-d",(time())) . "\r". "\n" ."Följande fel uppstod i fil: $file och antagligen i rad: $line ";    error_log($err_msg, 3, "my_error.log");  }}// här skriver vi funktionen som gör det vi vill ska hända vid ett fel.function felhanterare($type, $msg, $file, $line, $context){  writelogfileormail($type, $msg, $file, $line);  echo "Ett fel uppstod vid körningen av denna webbapplikationen. Webbmastern arbetar med problemet.";  echo "<p>";  echo "Här visas ytterligare information om felet:";  echo "<hr><pre>";  echo "Felkod: $type<br>";  echo "Felmeddelande: $msg<br>";  echo "Skript-namn och radnummer där felet troligen uppkom: $file:$line<br>";  echo "</pre></p><hr>";  //return false; //Om vi returnerar false så kommer systemet också att skriva ut ett felmeddelande}set_error_handler("felhanterare");//här definerar vi en egen felhanterare.$string = "En textsträng";// string sätts till något...join('', $string);// kommer att generera en E_WARNING?>